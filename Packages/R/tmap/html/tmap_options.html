<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>R: Options for tmap</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link rel="stylesheet" type="text/css" href="R.css" />
</head><body><div class="container">

<table width="100%" summary="page for tmap_options {tmap}"><tr><td>tmap_options {tmap}</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2>Options for tmap</h2>

<h3>Description</h3>

<p>Get or set global options for tmap. The behaviour of <code>tmap_options</code> is similar to <code><a href="../../base/help/options.html">options</a></code>: all tmap options are retrieved when this function is called without arguments. When arguments are specified, the corresponding options are set, and the old values are silently returned as a list. The function <code>tmap_options_reset</code> is used to reset all options back to the default values (also the <code>style</code> is reset to <code>"white"</code>). Differences with the default values can be shown with <code>tmap_options_diff</code>. The function <code>tmap_options_save</code> can be used to save the current options as a new style. See details below on how to create a new style.
</p>


<h3>Usage</h3>

<pre>
tmap_options(
  ...,
  unit,
  limits,
  max.categories,
  max.raster,
  basemaps,
  basemaps.alpha,
  overlays,
  overlays.alpha,
  qtm.scalebar,
  qtm.minimap,
  show.messages,
  output.format,
  output.size,
  output.dpi
)

tmap_options_diff()

tmap_options_reset()

tmap_options_save(style)
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>...</code></td>
<td>
<p>options from <code><a href="../../tmap/help/tm_layout.html">tm_layout</a></code> or <code><a href="../../tmap/help/tm_view.html">tm_view</a></code>. Note that the difference with using <code><a href="../../tmap/help/tm_layout.html">tm_layout</a></code> or <code><a href="../../tmap/help/tm_view.html">tm_view</a></code> directly, is that options set with <code>tmap_options</code> remain for the entire session (unless changed with <code>tmap_options</code> or <code><a href="../../tmap/help/tmap_style.html">tmap_style</a></code>). It can also be a single unnamed argument which is a named list of options (similar behaviour as <code><a href="../../base/help/options.html">options</a></code>).</p>
</td></tr>
<tr valign="top"><td><code>unit</code></td>
<td>
<p>this is the default value for the <code>unit</code> argument of <code><a href="../../tmap/help/tm_shape.html">tm_shape</a></code>. It specifies the unit of measurement, which is used in the scale bar and the calculation of density values. By default (when loading the package), it is <code>"metric"</code>. Other valid values are <code>"imperial"</code>, <code>"km"</code>, <code>"m"</code>, <code>"mi"</code>, and <code>"ft"</code>.</p>
</td></tr>
<tr valign="top"><td><code>limits</code></td>
<td>
<p>this option determines how many facets (small multiples) are allowed for per mode. It should be a vector of two numeric values named <code>facets.view</code> and <code>facets.plot</code>. By default (i.e. when loading the package), it is set to <code>c(facets.view = 4, facets.plot = 64)</code></p>
</td></tr>
<tr valign="top"><td><code>max.categories</code></td>
<td>
<p>in case <code>col</code> is the name of a categorical variable in the layer functions (e.g. <code><a href="../../tmap/help/tm_polygons.html">tm_polygons</a></code>), this value determines how many categories (levels) it can have maximally. If the number of levels is higher than <code>max.categories</code>, then levels are combined.</p>
</td></tr>
<tr valign="top"><td><code>max.raster</code></td>
<td>
<p>the maximum size of rasters, in terms of number of raster cells. It should be a vector of two numeric values named <code>plot</code> and <code>view</code>, which determines the size in plotting and viewing mode. The default values are <code>c(plot = 1e7, view = 1e6)</code>. Rasters that are larger will be shown at a decreased resolution.</p>
</td></tr>
<tr valign="top"><td><code>basemaps</code></td>
<td>
<p>default basemaps. Basemaps are normally configured with <code><a href="../../tmap/help/tm_basemap.html">tm_basemap</a></code>. When this is not done, the basemaps specified by this option are shown (in view mode). Vector of one or more names of baselayer maps, or <code>NULL</code> if basemaps should be omitted. For options see the list <code>leaflet::providers</code>, which can be previewed at <a href="http://leaflet-extras.github.io/leaflet-providers/preview">http://leaflet-extras.github.io/leaflet-providers/preview</a>. Also supports URL's for tile servers, such as <code>"http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"</code>. If a named vector is provided, the names are used in the layer control legend (similar to the <code>group</code> argument of <code><a href="../../tmap/help/tm_basemap.html">tm_basemap</a></code>. See also <code>overlays</code>, which is the default option for overlay tiles.</p>
</td></tr>
<tr valign="top"><td><code>basemaps.alpha</code></td>
<td>
<p>default transparency (opacity) value for the basemaps. Can be a vector of values, one for each basemap.</p>
</td></tr>
<tr valign="top"><td><code>overlays</code></td>
<td>
<p>default overlay tilemaps. Overlays tilemaps are shown as front layer (in contrast to basemaps, which are background layers), so they are only useful when they are semi-transparent. Like basemaps, a vector of tilemaps is expected, or <code>NULL</code> is overlays should be omitted.</p>
</td></tr>
<tr valign="top"><td><code>overlays.alpha</code></td>
<td>
<p>default transparency (opacity) value for the overlay maps. Can be a vector of values, one for each overlay map.</p>
</td></tr>
<tr valign="top"><td><code>qtm.scalebar</code></td>
<td>
<p>should a scale bar be added to interactive maps created with <code><a href="../../tmap/help/qtm.html">qtm</a></code>. In other words, should <code>tm_scale_bar()</code> be added automatically? The value <code>NA</code> means that the scale bar is only added when <code><a href="../../tmap/help/qtm.html">qtm</a></code> is called without arguments or with a search term. The default value is <code>TRUE</code>.</p>
</td></tr>
<tr valign="top"><td><code>qtm.minimap</code></td>
<td>
<p>should a minimap be added to interactive maps created with <code><a href="../../tmap/help/qtm.html">qtm</a></code>. In other words, should <code>tm_minimap()</code> be added automatically? The value <code>NA</code> means that the minimap is only added in navigation mode (i.e. when <code><a href="../../tmap/help/qtm.html">qtm</a></code> is called without arguments or with a search term. The default value is <code>FALSE</code>.</p>
</td></tr>
<tr valign="top"><td><code>show.messages</code></td>
<td>
<p>should messages be shown?</p>
</td></tr>
<tr valign="top"><td><code>output.format</code></td>
<td>
<p>The format of the static maps saved with <code><a href="../../tmap/help/tmap_save.html">tmap_save</a></code> without specification of the filename. The default is <code>"png"</code>.</p>
</td></tr>
<tr valign="top"><td><code>output.size</code></td>
<td>
<p>The size of the static maps saved with <code><a href="../../tmap/help/tmap_save.html">tmap_save</a></code> without specification of width and height. The unit is squared inch and the default is 49. This means that square maps (so with aspect ratio 1) will be saved as 7 by 7 inch images and a map with aspect ratio 2 (e.g. most world maps) will be saved as approximately 10 by 5 inch.</p>
</td></tr>
<tr valign="top"><td><code>output.dpi</code></td>
<td>
<p>The default number of dots per inch for <code><a href="../../tmap/help/tmap_save.html">tmap_save</a></code> and <code><a href="../../tmap/help/tmap_animation.html">tmap_animation</a></code>.</p>
</td></tr>
<tr valign="top"><td><code>style</code></td>
<td>
<p>style name</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The options can be divided into three parts: one part contains the arguments from <code><a href="../../tmap/help/tm_layout.html">tm_layout</a></code>, one part contains the arguments from <code><a href="../../tmap/help/tm_view.html">tm_view</a></code>, and one part contains options that can only be set with <code>tmap_options</code>. Observe that the options from <code><a href="../../tmap/help/tm_layout.html">tm_layout</a></code> and <code><a href="../../tmap/help/tm_view.html">tm_view</a></code> can also be set with those functions. It is recommended to use <code>tmap_options</code> when setting specific options during global session. However, options that are only relevant for a specific map can better be set with <code><a href="../../tmap/help/tm_layout.html">tm_layout</a></code> or <code><a href="../../tmap/help/tm_view.html">tm_view</a></code>.
</p>
<p>A new style can be created in two ways. The first approach is to use the function <code>tmap_options_save</code>, which takes a snapshot of the current tmap options. E.g., <code>tmap_options_save("my_style")</code> will save the current tmap options as a style called <code>"my_style"</code>. See the examples in which a style called <code>"red"</code> is created. The second way to create a style is to create a list with tmap options and with a attribute called style. This approach is illustrated in the last example, in which a style called <code>"black"</code> is created.
</p>
<p>The newly created style, say <code>"my_style"</code>, will be accessible globally via <code>tmap_style("my_style")</code> and <code>+ tm_style("my_style")</code> until the R session is restarted or <code>tmap</code> is reloaded. In order to save the style for future use or sharing, obtain the option list as follows: <code>my_style &lt;- tmap_options()</code> and save the object <code>my_style</code> in the usual way. Next time, the style can be loaded simply by running <code>tmap_options(my_style)</code>, which corresponds to the second way to create a style (see the paragraph above).
</p>


<h3>See Also</h3>

<p><code><a href="../../tmap/help/tm_layout.html">tm_layout</a></code>, <code><a href="../../tmap/help/tm_view.html">tm_view</a></code>, and <code><a href="../../tmap/help/tmap_style.html">tmap_style</a></code>
</p>


<h3>Examples</h3>

<pre>
# load data
data(World)

# get current options
str(tmap_options())

# get current style
tmap_style()

# plot map (with default options)
tm_shape(World) + tm_polygons("HPI")

# change style to cobalt
tmap_style("cobalt")

# observe the changed options
tmap_options_diff()

# plot the map again
tm_shape(World) + tm_polygons("HPI")

##############################
# define red style
##############################

# change the background color
tmap_options(bg.color = "red")

# note that the current style is modified
tmap_style()

# observe the changed options
tmap_options_diff()

# save the current options as style "red"
tmap_options_save("red")

# plot the map again
tm_shape(World) + tm_polygons("HPI")

# the specified arguments of tm_layout and tm_view will override the options temporarily:
tm_shape(World) + tm_polygons("HPI") + tm_layout(bg.color="purple")

# when tm_style_ is called, it will override all options temporarily:
tm_shape(World) + tm_polygons("HPI") + tm_layout(bg.color="purple") + tm_style("classic")

# reset all options
tmap_options_reset()

# check style and options
tmap_style()
tmap_options_diff()

##############################
# define black style
##############################

# create style list with style attribute
black_style  &lt;- structure(
    list(
		bg.color = "black",
		aes.color = c(fill = "grey40", borders = "grey40", 
					  symbols = "grey80", dots = "grey80", 
		              lines = "white", text = "white", 
					  na = "grey30", null = "grey15"),
		aes.palette = list(seq = "plasma", div = "PiYG", cat = "Dark2"),
		attr.color = "white",
		panel.label.color = "white",
		panel.label.bg.color = "grey40",
		main.title.color = "white"
	),
	style = "black"
)

# assign the style
tmap_options(black_style)

# observe that "black" is a new style
tmap_style()

# plot the world map again, this time with the newly created black style
tm_shape(World) +
	tm_polygons("HPI")

# reset all options
tmap_options_reset()
</pre>

<hr /><div style="text-align: center;">[Package <em>tmap</em> version 3.0 <a href="00Index.html">Index</a>]</div>
</div></body></html>
